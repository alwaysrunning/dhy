/**
 * Created by 沐沐 on 2015-11-09.
 */

var apis = require('../');
var chai = require('chai');
var chaiPromise = require('chai-as-promised');
chai.use(chaiPromise);
chai.should();

describe('user', function () {
    before(function () {
        apis.config({
            api: {
                printLog: true,
                printSign: true,
                host: '10.200.51.104',//API测试服务器地址
                port: 8080,//API测试服务器端口号
                path: '/bubugao-mobile-api/app',//测试服务器普通API请求地址
                authPath: '/bubugao-mobile-api/app/auth',//测试服务器验证API请求地址
                ver: '2.7',
                autoToken: true,
                testTokens: {
                    tokenId: '55cb831071d040d6a6bff00edb03f473',
                    secret: 'aab56db4e5b1619d905dd48d3acf23eb'
                }
            },
            weixin: {
                ignore: true,
                tokenDebug: true
            }
        });
    });

    //describe('#giftSearch', function () {
    //    it('should get giftSearch', function () {
    //        return apis.gift.giftSearch('430100000000', 0, 1, 20, 'price', 'asc').then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            //console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});


    describe('#store', function () {
        it('should get store', function () {
            return apis.store.storeCategory().then(function (data) {
                console.log(JSON.stringify(data));
                return data;
            }).fail(function (err) {
                console.error(err);
                throw err;
            }).should.not.be.rejected;
        });
    });

    //describe('#createOrder', function () {
    //    it('should get createOrder', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            console.info(tokens);
    //            return apis.gift.createOrder(tokens, 1101, 72, '谢沐沐', '18627312440', '湖南省长沙市', '2', 1, '0', undefined, undefined).then(function (data) {
    //                console.log(JSON.stringify(data));
    //                return data;
    //            }).fail(function (err) {
    //                console.error(err);
    //                throw err;
    //            });
    //        }).should.not.be.rejected;
    //    });
    //});


});