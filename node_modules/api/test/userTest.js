/**
 * Created by 沐沐 on 2015-10-14.
 */

var apis = require('../');
var chai = require('chai');
var chaiPromise = require('chai-as-promised');
chai.use(chaiPromise);
chai.should();

describe('user', function () {
    before(function () {
        apis.config({
            api: {
                printLog: true,
                printSign: false,
                host: '10.200.51.104',//API测试服务器地址
                port: 8080,//API测试服务器端口号
                path: '/bubugao-mobile-api/app',//测试服务器普通API请求地址
                authPath: '/bubugao-mobile-api/app/auth',//测试服务器验证API请求地址
                ver: '2.7',
                autoToken: false,
                testTokens: {
                    tokenId: '4509ba0a43f947a4bbdc9bc46e4d3090',
                    secret: '66a49c11b59b997060e17ca0a3b11190'
                }
            },
            weixin: {
                printLog: false,
                ignore: true,
                tokenDebug: true,
                testCode:{
                    openid:'omFGqji-7DgR_hDspqSL-AUo8nNQ',
                    unionid:'oB8iWjqr03cjTpmfyUFml7KL9P5s'
                }
            }
        });
    });

    //describe('#MemberInfo', function () {
    //    it('should get MeberInfo', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.meberInfo(tokens);
    //        }).then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            //console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});
    //
    //describe('#Mobile', function () {
    //    it('should get Mobile', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.reward(tokens);
    //        }).then(function (data) {
    //            console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});
    //
    //describe('#Integration', function () {
    //    it('should get Integration', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.integration(tokens);
    //        }).then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            //console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});
    //
    //describe('#Reward', function () {
    //    it('should get reward', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.reward(tokens);
    //        }).then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            //console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});
    //
    //describe('#IntegrationList', function () {
    //    it('should get IntegrationList', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.integrationList(tokens, 1, 20);
    //        }).then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});
    //
    //describe('#RewardList', function () {
    //    it('should get rewardList', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.rewardList(tokens, 2, 1, 5, '0');
    //        }).then(function (data) {
    //            //console.log(JSON.stringify(data));
    //            return data;
    //        }).fail(function (err) {
    //            //console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});
    //
    //describe('#Cards', function () {
    //    it('should get cards', function () {
    //        return apis.request.getTokens('oB8iWjicD_SlyGpSKHWedTrUj4N4').then(function (tokens) {
    //            return apis.user.meberInfo(tokens);
    //        }).then(function (data) {
    //            console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});

    //describe('#Center', function () {
    //    it('should get center', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.center(tokens);
    //        }).then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            //console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});

    //describe('#sync', function () {
    //    it('should get sync', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.sync(tokens,'18627312440','430104198906033018','谢沐沐');
    //        }).then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});


    //describe('#integrationIncr', function () {
    //    it('should get integrationIncr', function () {
    //        return apis.request.getTokens().then(function (tokens) {
    //            return apis.user.integrationIncr(tokens, 'Point Accrucal', 'MTL', 1000);
    //        }).then(function (data) {
    //            //console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});

    //describe('#sms', function () {
    //    it('should get sms', function () {
    //        return apis.etc.getParks().then(function (data) {
    //            console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});

    //describe('#login', function () {
    //    it('should get login', function () {
    //        return apis.login.login('123','123','18873256669','359121').then(function (data) {
    //            console.log(data);
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});


    //describe('#test', function () {
    //    it('should get test', function () {
    //        return apis.invitation.shareSubmit(null,'http://www.baidu.com/',decodeURIComponent('%F0%9F%92%83A%E5%A6%82%E6%9E%9C%E6%B2%A1%E5%A6%82%E6%9E%9C%E2%9C%A8%E2%9C%A8%E2%9C%A8')).then(function (data) {
    //            console.log(JSON.stringify(data));
    //            return data;
    //        }).fail(function (err) {
    //            console.error(err);
    //            throw err;
    //        }).should.not.be.rejected;
    //    });
    //});
});